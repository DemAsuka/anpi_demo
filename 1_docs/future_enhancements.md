# CLT Safety Connect 拡張機能・ロードマップ案

本ドキュメントでは、安否確認システムの更なる高度化に向けた、AI活用および地域特性に応じた最適化の構想をまとめています。

---

## 1. AI (Gemini) 統合による知的な防災・安否確認

Google Gemini (3 Pro / Flash) をシステムに統合することで、従来の「キーワード判定」を超えた、文脈に即した高度な対応を実現します。

### 活用例 A：気象庁XML電文の高度な解析
- **内容**: 気象庁の複雑な専門用語を含む電文をAIが読み込み、瞬時にリスクを判定。
- **メリット**: 「震度5弱だが、○○オフィスの地盤は強いため緊急度は中程度」や「大雨だが、河川の増水が著しいため避難勧告レベル」など、単純なキーワード以上の精度の高い判定が可能。
- **技術**: `Gemini 1.5 Flash` を使用し、低コスト・超高速でXMLを解析。

### 活用例 B：安否報告のインテリジェント要約
- **内容**: 大規模災害時、数百〜数千人から届く「自由記述コメント」をAIが自動集計・要約。
- **メリット**: 管理者は「負傷者数」「建物被害」「帰宅困難者」などのサマリーを瞬時に把握でき、人命に関わる重要な報告を優先的に抽出（トリアージ）できます。

### 活用例 C：パーソナライズされた行動アドバイス
- **内容**: 発災時、ユーザーの登録地点（自宅やオフィス）の特性に合わせた「避難アドバイス」を通知時に生成。
- **メリット**: 「近くに○○川があるので、2階以上に避難してください」「高層ビルのため長周期地震動に注意してください」など、具体的で実効性の高い指示を添えられます。

---

## 2. エリア特性に合わせた「発動条件」の最適化

全社一律のルール（デフォルト感度）を保持しつつ、主要拠点ごとにその土地固有の災害リスクを考慮したカスタマイズ設定を導入します。

### エリア別カスタマイズ例

| 拠点エリア | 災害特性 | 重点監視・カスタマイズ内容 |
| :--- | :--- | :--- |
| **仙台（沿岸都市型）** | 津波・震度リスク | 津波警報・注意報が出た際は、震度に関わらず即座に全社員へ「津波避難指示」を通知。 |
| **新宿（過密都市型）** | 都市型洪水・長周期地震 | 短時間降雨（ゲリラ豪雨）による地下浸水リスクや、高層階の揺れに特化したキーワード判定。 |
| **上里町（大規模河川型）** | 河川氾濫（利根川等） | 気象警報の中でも「洪水警報」を最優先トリガーとし、河川水位情報のキーワード監視を強化。 |
| **富士市（地震・火山型）** | 南海トラフ・火山活動 | 南海トラフ地震の臨時情報や、富士山の火山活動レベルの引き上げをトリガーに追加。 |

### システム実装案：二段構えのルール管理
1. **デフォルト発災感度テーブル**:
   - 一般ユーザーの「自宅（仙台以外）」や「実家」などに適用される標準的なルール。
   - 例：震度5弱以上、大雨特別警報など。
2. **拠点別優先設定テーブル**:
   - 管理者が指定した主要拠点に適用される、より高感度なルール。
   - デフォルトルールを「上書き」または「追加」して発動条件を構築。

---

## 3. 今後の展開イメージ

1. **Phase 1: ルールのデータベース化**
   - 現在コード内に書かれている判定ロジックをテーブル化し、管理画面から「感度」を調整可能にする。
2. **Phase 2: AIプロトタイプ導入**
   - 受信したJMA XMLを Gemini Flash に流し込み、緊急度スコア（0〜100）を算出するテストを開始。
3. **Phase 3: エリア連動型通知**
   - 地点の災害特性に応じた通知文面の自動切り替えを実装。

