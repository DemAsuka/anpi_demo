# UI/UXデザイン設計書

## 1. デザインコンセプト

### 1.1 テーマ: "Cool Lab" (クール・ラボ)
感情的な「熱」を帯びた悩みを、研究室のような「冷たく、清潔で、知的な」空間で扱うことで、ユーザーに冷静さと客観性を取り戻させることを目的とします。

### 1.2 カラーパレット

| 役割 | 色名 | カラーコード | 用途 |
| :--- | :--- | :--- | :--- |
| **Base** | White Smoke | `#F8F9FA` | 背景色。清潔感と無機質さを表現。 |
| **Main** | Midnight Blue | `#2C3E50` | ヘッダー、主要テキスト。知性と夜の静けさ。 |
| **Accent** | Peter River | `#3498DB` | ボタン、リンク、信頼を示す要素。 |
| **SOS / Error** | Alizarin | `#E74C3C` | SOSフラグ、エラーメッセージ、緊急アクション。 |
| **Text (Sub)** | Concrete | `#95A5A6` | 補足情報、プレースホルダー。 |

### 1.3 タイポグラフィ
システムフォントを優先し、可読性とOSネイティブな操作感を重視します。

- **Font Family**:
    - Apple: `-apple-system, BlinkMacSystemFont, "Helvetica Neue"`
    - Windows/Android: `"Roboto", "Noto Sans JP", sans-serif`
- **Weight**:
    - Bold: 見出し、強調ボタン
    - Regular: 本文
    - Light: 補足説明（日付など）

## 2. 画面遷移図

```mermaid
graph TD
    Splash[スプラッシュ画面] --> Auth[認証画面 (Clerk)]
    Auth --> Onboarding[オンボーディング (属性/性格診断)]
    Onboarding --> Home[ホーム (タイムライン)]
    Auth --> Home

    subgraph MainTab [メインタブ]
        Home
        Explore[検索/ランキング]
        Post[投稿作成]
        Notif[通知]
        Profile[マイページ]
    end

    Home --> PostDetail[投稿詳細 / コメント]
    PostDetail --> UserProfile[ユーザー詳細]
    
    Post --> PostProcess[AI解析中画面]
    PostProcess --> Home

    Profile --> Settings[設定 (エリア/ブロック/通知)]
    Profile --> Archive[卒業アーカイブ (有料)]
```

## 3. 主要画面ワイヤーフレーム

### 3.1 ホーム（タイムライン）
アプリのメイン画面です。カード型の投稿が並びます。

```text
+-----------------------------------+
|  kococo              [Filter] [Map] |  <-- Header: ロゴ、絞り込み、地図表示切替
+-----------------------------------+
| [SOS] ⚠️ 今すぐ助けてください...    |  <-- SOS投稿 (最優先表示, 赤枠強調)
|  [タグ: 失恋] [エリア: 新宿]       |
|  要約: 突然の別れ話でパニック...    |
|  [回答受付中] 10分前               |
+-----------------------------------+
| [UserIcon] タイトル: 既読スルー... |  <-- 通常投稿
|  要約: 3日間連絡がなく...           |
|  [共感: 5] [コメント: 2]           |
+-----------------------------------+
|                                   |
|             (Scroll)              |
|                                   |
+-----------------------------------+
| (FAB) + 投稿ボタン                 |  <-- Floating Action Button (固定)
+-----------------------------------+
| [Home] [Srch] [Post] [Noti] [Prof]|  <-- Bottom Navigation
+-----------------------------------+
```

### 3.2 投稿作成画面
AI解析を前提としたシンプルな入力画面です。

```text
+-----------------------------------+
|  キャンセル        投稿する        |  <-- Header
+-----------------------------------+
| [緊急度スイッチ: 通常 / SOS 🚨]   |  <-- SOSモード切替
+-----------------------------------+
|                                   |
|  ここに悩みを書いてください...      |  <-- Textarea (自動伸縮)
|  （AIが要約するので長文でもOK）     |
|                                   |
+-----------------------------------+
| [カメラ] [画像]                   |  <-- Media Picker
|                                   |
| --------------------------------- |
| ▼ AIプレビュー (入力中にリアルタイム更新 or ボタン押下で表示)
| タイトル: {AI生成タイトル}         |
| 要約: {AI生成要約}                 |
| 選択肢:                           |
|  1. {選択肢A}                     |
|  2. {選択肢B}                     |
+-----------------------------------+
```

### 3.3 投稿詳細（チャット風UI）
詳細画面では、元の長文も閲覧可能です。コメントはチャットのように表示されます。

```text
+-----------------------------------+
| < 戻る                [Menu]      |
+-----------------------------------+
| [UserIcon] User Name      10分前  |
|                                   |
| タイトル: 既読スルーされています   |
|                                   |
| (要約エリア - デフォルト表示)      |
| "3日間連絡なし。以前も同様..."     |
|                                   |
| [ v 原文をすべて表示する ]         |  <-- アコーディオン
|                                   |
| [タグ: 不安] [タグ: 恋愛]          |
+-----------------------------------+
| --------------------------------- |
| コメント (5)                      |
+-----------------------------------+
| [GiverIcon] Analysis Bot (AI)     |
| "過去の傾向からすると..."          |
+-----------------------------------+
| [UserIcon] ユーザーB              |
| "私も同じ経験あります！"           |
| [参考になった!: 3] [視点!: 1]      |
+-----------------------------------+
| [ 入力エリア...             [送信] ] |  <-- Footer固定
+-----------------------------------+
```

## 4. インタラクション設計

### 4.1 Optimistic UI (楽観的UI)
- **いいね/リアクション**: サーバー通信を待たずに即座にカウントアップし、色を変更します。通信失敗時のみロールバックします。
- **投稿**: 送信ボタン押下後、即座にタイムラインの最上部に（仮の状態で）表示します。

### 4.2 マイクロインタラクション
- **AI解析中**: ビーカーの中で液体が混ざるような、あるいは波形が解析されるような「研究室」らしいローディングアニメーションを表示し、待ち時間のストレスを軽減します。
- **SOSモード**: スイッチをONにすると、UI全体のヘッダー色やアクセントカラーが赤色に遷移し、緊張感を伝えます。

